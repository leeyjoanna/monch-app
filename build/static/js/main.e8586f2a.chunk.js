(this.webpackJsonpmonch=this.webpackJsonpmonch||[]).push([[0],{21:function(e,t,i){},22:function(e,t,i){},43:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i(16),s=i.n(n),a=(i(21),i(4)),o=(i(22),i(3)),l=i.n(o),r=function(e){return l.a.get("/monchapi/myList/".concat(e)).then((function(e){return e.data}))},d=function(e){return l.a.get("/monchapi/searchResult/",{params:e}).then((function(e){return e.data}))},j=function(e){return l.a.get("/monchapi/searchResult/id",{params:e}).then((function(e){return e.data}))},u=function(e){return l.a.post("/monchapi/newList",{saveData:e}).then((function(e){return e.data}))},b=function(e,t){return l.a.put("/monchapi/myList/".concat(t),{itemAPI:e}).then((function(e){return e.data}))},h=function(e,t){return l.a.delete("/monchapi/myList/".concat(t),{data:{itemAPI:e}}).then((function(e){return e.data}))},m=function(e,t,i){return l.a.put("/monchapi/myList/".concat(t,"/votes"),{data:{itemAPI:e,name:i}}).then((function(e){return e.data}))},v=i.p+"static/media/yelp_logo.d3645f2e.png",O=i(0),x=function(e){var t=e.item,i=e.list,c=e.setList,n=e.pageURL;return console.log(t.location),Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsxs)("div",{className:"list-individ-container-yelpinfo",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsxs)("div",{id:"item-name",children:[" ",t.name]}),Object(O.jsxs)("div",{id:"item-rating",children:[" ",t.rating," stars | ",t.review_count," reviews"]}),Object(O.jsxs)("div",{id:"item-address",children:[Object(O.jsx)("div",{children:t.location.address1}),Object(O.jsxs)("div",{children:[t.location.city,", ",t.location.state," ",t.location.zipcode]}),Object(O.jsx)("div",{})]})]}),Object(O.jsx)("div",{className:"list-button-container",children:Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:function(e){console.log("result list itemID: ".concat(e.target.value));var t,s={id:e.target.value};(t=s.id,i.some((function(e){return e.id===t})))?alert("you've added this already!"):(j(s).then((function(e){e.votes=[],c(i.concat(e))})).catch((function(e){return console.log(e)})),""!=n&&b(s,n).then((function(e){return console.log(e)})).catch((function(e){console.log(e)})))},children:"Add to list"})})})]}),Object(O.jsx)("div",{className:"bottom-row-container",children:Object(O.jsx)("div",{className:"logo-container",children:Object(O.jsx)("div",{id:"yelp-logo-container",children:Object(O.jsx)("a",{href:t.url,target:"_blank",children:Object(O.jsx)("img",{id:"yelp-logo",src:v})})})})})]})},g=function(e){var t=e.list,i=e.setList,n=e.pageURL,s=Object(c.useState)([]),o=Object(a.a)(s,2),l=o[0],r=o[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{class:"search-div",children:["Search: ",Object(O.jsx)("input",{id:"searchTerm",type:"text",autoComplete:"off",placeholder:"boba"})]}),Object(O.jsxs)("div",{class:"search-div",children:["Location: ",Object(O.jsx)("input",{id:"searchLocation",type:"text",autoComplete:"off",placeholder:"san francisco, ca"})]}),Object(O.jsx)("button",{onClick:function(){var e={term:document.getElementById("searchTerm").value,location:document.getElementById("searchLocation").value};d(e).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))},children:"Search"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("ul",{children:l.map((function(e,c){return Object(O.jsx)(x,{item:e,list:t,setList:i,pageURL:n},c)}))})]})]})},f=function(e){var t=e.list,i=e.pageURL;return t.length>0?""!=i?Object(O.jsx)("div",{}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{class:"search-div",children:["Name your list:",Object(O.jsx)("input",{type:"text",id:"title-name",autoComplete:"off"})]}),Object(O.jsxs)("div",{class:"search-div",children:["Date of event:",Object(O.jsx)("input",{type:"date",id:"event-date",acutcomplete:"off"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){var e=document.getElementById("title-name").value,i=document.getElementById("event-date").value;if(console.log(i),""!==e){for(var c=[],n=0;n<t.length;n++)c.push(t[n].id);u({title:e,date:i,restaurants:c}).then((function(e){window.location="/".concat(e.redirect)})).catch((function(e){return console.log(e)}))}else alert("please add a title")},children:"Save list"})})]}):Object(O.jsx)("div",{})},p=i(7),y=function(e){var t=e.item,i=e.list,c=e.setList,n=e.pageURL,s=e.name;console.log("list item ".concat(t.name)),console.log("page URL ".concat(n)),console.log("name ".concat(s)),console.log("vote ".concat(t.votes)),console.log("stars ".concat(t.rating),typeof t.rating);var a=function(e){var t=e.target.value;c(i.filter((function(e){return e.id!==t}))),console.log(t),""!=n&&h(t,n).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))};return""!==n?Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsxs)("div",{className:"list-individ-container-yelpinfo",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsx)("div",{id:"item-name",children:t.name}),Object(O.jsxs)("div",{id:"item-rating",children:[t.rating," stars | ",t.review_count," reviews"]}),Object(O.jsxs)("div",{id:"item-address",children:[Object(O.jsx)("div",{children:t.location.address1}),Object(O.jsxs)("div",{children:[t.location.city,", ",t.location.state," ",t.location.zipcode]}),Object(O.jsx)("div",{})]})]}),Object(O.jsxs)("div",{className:"list-button-container",children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:function(e){var t=e.target.value;m(t,n,s).then((function(e){console.log("response",e),c(i.map((function(i){return i.id!==t?i:Object(p.a)(Object(p.a)({},i),{},{votes:e})})))})).catch((function(e){return console.log(e)}))},children:"Vote for this place"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:a,children:"Remove from list"})})]})]}),Object(O.jsxs)("div",{className:"bottom-row-container",children:[Object(O.jsxs)("div",{className:"voters",children:["Voted for here: ",t.votes.toString()]}),Object(O.jsx)("div",{className:"logo-container",children:Object(O.jsx)("div",{id:"yelp-logo-container",children:Object(O.jsx)("a",{href:t.url,target:"_blank",children:Object(O.jsx)("img",{id:"yelp-logo",src:v})})})})]})]}):Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsxs)("div",{className:"list-individ-container-yelpinfo",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsx)("div",{id:"item-name",children:t.name}),Object(O.jsxs)("div",{id:"item-rating",children:[t.rating," stars | ",t.review_count," reviews"]}),Object(O.jsxs)("div",{id:"item-address",children:[Object(O.jsx)("div",{children:t.location.address1}),Object(O.jsxs)("div",{children:[t.location.city,", ",t.location.state," ",t.location.zipcode]}),Object(O.jsx)("div",{})]})]}),Object(O.jsx)("div",{className:"list-button-container",children:Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:a,children:"Remove from list"})})})]}),Object(O.jsxs)("div",{className:"bottom-row-container",children:[Object(O.jsx)("div",{className:"voters"}),Object(O.jsx)("div",{className:"logo-container",children:Object(O.jsx)("div",{id:"yelp-logo-container",children:Object(O.jsx)("a",{href:t.url,target:"_blank",children:Object(O.jsx)("img",{id:"yelp-logo",src:v})})})})]})]})},L=function(e){var t=e.name;return""===t?Object(O.jsx)("div",{}):Object(O.jsxs)("div",{id:"welcome-title",children:["Hi ",t,", let's decide where to eat!"]})},N=function(e){var t=e.list,i=e.setList,c=e.title,n=e.date,s=e.pageURL,a=e.name,o=e.setName;console.log("date",n);return""!==s&&""===a?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"list-info-container",children:[Object(O.jsx)("div",{id:"list-title",children:c}),Object(O.jsx)("div",{id:"list-date",children:n.split("T")[0]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Please enter your name: ",Object(O.jsx)("input",{id:"name-input",type:"text"})]}),Object(O.jsx)("button",{onClick:function(){var e=document.getElementById("name-input").value;o(e)},id:"submit-name",children:"Submit"})]})]}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"welcome-text",children:[" ",Object(O.jsx)(L,{name:a})]}),Object(O.jsxs)("div",{id:"list-info-container",children:[Object(O.jsx)("div",{id:"list-title",children:c}),Object(O.jsx)("div",{id:"list-date",children:n.split("T")[0]})]}),t.map((function(e,c){return Object(O.jsx)(y,{item:e,list:t,setList:i,pageURL:s,name:a},c)})),Object(O.jsx)(f,{list:t,pageURL:s})]})},w=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),i=t[0],n=t[1],s=Object(c.useState)(""),o=Object(a.a)(s,2),l=o[0],d=o[1],j=Object(c.useState)(""),u=Object(a.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(""),v=Object(a.a)(m,2),x=v[0],f=v[1],p=window.location.href.split("/")[3];Object(c.useEffect)((function(){r(p).then((function(e){d(e.title),h(e.date),n(e.restaurants)}))}),[]);return Object(O.jsxs)("div",{id:"body",children:[Object(O.jsxs)("div",{id:"nav-bar",children:[Object(O.jsx)("div",{id:"monch-title",onClick:function(){return window.location.href="/",console.log("home button cool"),!1},children:" Let's monch !"}),Object(O.jsxs)("div",{id:"contact",children:["A personal project, by ",Object(O.jsx)("a",{id:"personal-link",href:"http://jojopuff.herokuapp.com",target:"_blank",children:"Joanna Lee."})," \xa9 2021"]})]}),Object(O.jsxs)("div",{id:"main-container",children:[Object(O.jsx)("div",{id:"left-container",children:Object(O.jsx)(N,{list:i,date:b,setList:n,pageURL:p,title:l,name:x,setName:f})}),Object(O.jsx)("div",{id:"right-container",children:Object(O.jsx)(g,{list:i,setList:n,pageURL:p})})]})]})};s.a.render(Object(O.jsx)(w,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e8586f2a.chunk.js.map