(this.webpackJsonpmonch=this.webpackJsonpmonch||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(16),s=n.n(i),a=(n(22),n(4)),o=n(17),l=(n(23),n(3)),r=n.n(l),d=function(e){var t=r.a.get("/myList/".concat(e));return console.log("getAllServer uuid",e),t.then((function(e){return e.data}))},j=function(e){return r.a.get("api/searchResult/",{params:e}).then((function(e){return e.data}))},u=function(e){return r.a.get("api/searchResult/id",{params:e}).then((function(e){return e.data}))},b=function(e){return r.a.post("newList",{saveData:e}).then((function(e){return e.data}))},m=function(e,t){return r.a.put("/myList/".concat(t),{itemAPI:e}).then((function(e){return e.data}))},h=function(e,t){return r.a.delete("/myList/".concat(t),{data:{itemAPI:e}}).then((function(e){return e.data}))},v=function(e,t,n){return r.a.put("/myList/".concat(t,"/votes"),{data:{itemAPI:e,name:n}}).then((function(e){return e.data}))},O=n(0),x=function(e){var t=e.item,n=e.list,c=e.setList,i=e.pageURL;return Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsx)("div",{children:t.name}),Object(O.jsxs)("div",{children:[t.rating," stars"]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:function(e){console.log("result list itemID: ".concat(e.target.value));var t={id:e.target.value};u(t).then((function(e){return c(n.concat(e))})).catch((function(e){return console.log(e)})),""!=i&&m(t,i).then((function(e){return console.log(e)})).catch((function(e){console.log(e)}))},children:"Add to list"})})]})]})},f=function(e){var t=e.list,n=e.setList,i=e.pageURL,s=Object(c.useState)([]),o=Object(a.a)(s,2),l=o[0],r=o[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Search: ",Object(O.jsx)("input",{id:"searchTerm",type:"text",autoComplete:"off",placeholder:"boba"})]}),Object(O.jsxs)("div",{children:["Location: ",Object(O.jsx)("input",{id:"searchLocation",type:"text",autoComplete:"off",placeholder:"san francisco, ca"})]}),Object(O.jsx)("button",{onClick:function(){var e={term:document.getElementById("searchTerm").value,location:document.getElementById("searchLocation").value};j(e).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))},children:"Search"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("ul",{children:l.map((function(e,c){return Object(O.jsx)(x,{item:e,list:t,setList:n,pageURL:i},c)}))})]})]})},g=function(e){var t=e.list,n=e.pageURL;return t.length>0?""!=n?Object(O.jsx)("div",{}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Name your list:",Object(O.jsx)("input",{type:"text",id:"title-name",autoComplete:"off"})]}),Object(O.jsxs)("div",{children:["Date of event:",Object(O.jsx)("input",{type:"date",id:"event-date",acutcomplete:"off"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){var e=document.getElementById("title-name").value,n=document.getElementById("event-date").value;if(console.log(n),""!==e){for(var c=[],i=0;i<t.length;i++)c.push(t[i].id);b({title:e,date:n,restaurants:c}).then((function(e){window.location="/".concat(e.redirect)})).catch((function(e){return console.log(e)}))}else alert("please add a title")},children:"Save list"})})]}):Object(O.jsx)("div",{})},p=n(7),L=function(e){var t=e.item,n=e.list,c=e.setList,i=e.pageURL,s=e.name;console.log("list item ".concat(t.name)),console.log("page URL ".concat(i)),console.log("name ".concat(s)),console.log("vote ".concat(t.votes));var a=function(e){var t=e.target.value;c(n.filter((function(e){return e.id!==t}))),console.log(t),""!=i&&h(t,i).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))};return""!==i?Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsxs)("div",{className:"list-individ-container-yelpinfo",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsx)("div",{children:t.name}),Object(O.jsxs)("div",{children:[t.rating," stars"]})]}),Object(O.jsxs)("div",{className:"list-button-container",children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:a,children:"Remove from list"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:function(e){var t=e.target.value;v(t,i,s).then((function(e){console.log("response",e),c(n.map((function(n){return n.id!==t?n:Object(p.a)(Object(p.a)({},n),{},{votes:e})})))})).catch((function(e){return console.log(e)}))},children:"Vote for this place"})})]})]}),Object(O.jsxs)("div",{className:"voters",children:["Voted for here: ",t.votes.toString()]})]}):Object(O.jsxs)("div",{className:"list-individ-container",children:[Object(O.jsx)("div",{className:"list-img-container",children:Object(O.jsx)("img",{className:"icon-img",src:t.image_url,alt:"yelp selected image"})}),Object(O.jsxs)("div",{className:"list-data-container",children:[Object(O.jsx)("div",{children:t.name}),Object(O.jsxs)("div",{children:[t.rating," stars"]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{value:t.id,onClick:a,children:"Remove from list"})})]})]})},y=function(e){var t=e.name;return""===t?Object(O.jsx)("div",{}):Object(O.jsxs)("div",{id:"welcome-title",children:["Hi ",t,", let's decide where to eat!"]})},N=function(e){var t=e.list,n=e.setList,c=e.title,i=e.date,s=e.pageURL,a=e.name,o=e.setName;console.log("date",i);return""!==s&&""===a?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{id:"list-title",children:c}),Object(O.jsx)("div",{children:i.split("T")[0]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Please enter your name: ",Object(O.jsx)("input",{id:"name-input",type:"text"})]}),Object(O.jsx)("button",{onClick:function(){var e=document.getElementById("name-input").value;o(e)},id:"submit-name",children:"Submit"})]})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)(y,{name:a}),Object(O.jsx)("div",{id:"list-title",children:c}),t.map((function(e,c){return Object(O.jsx)(L,{item:e,list:t,setList:n,pageURL:s,name:a},c)})),Object(O.jsx)(g,{list:t,pageURL:s})]})},R=function(){console.log("top of App");var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(""),l=Object(a.a)(s,2),r=l[0],j=l[1],u=Object(c.useState)(""),b=Object(a.a)(u,2),m=b[0],h=b[1],v=Object(c.useState)(""),x=Object(a.a)(v,2),g=x[0],p=x[1],L=window.location.href.split("/")[3];""===L&&Object(o.a)("pageURL"),console.log("ooo",window.location.href);return Object(c.useEffect)((function(){console.log("hookStart"),d(L).then((function(e){console.log("useEffect"),console.log("response",e),j(e.title),h(e.date),i(e.restaurants)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"nav-bar",children:["Let's monch ! ",Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{id:"main-container",children:[Object(O.jsx)("div",{id:"left-container",children:Object(O.jsx)(N,{list:n,date:m,setList:i,pageURL:L,title:r,name:g,setName:p})}),Object(O.jsx)("div",{id:"right-container",children:Object(O.jsx)(f,{list:n,setList:i,pageURL:L})})]})]})};s.a.render(Object(O.jsx)(R,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.fec9f248.chunk.js.map